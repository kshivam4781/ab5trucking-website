<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AB5 Trucking - Desktop</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Crect width='64' height='64' rx='12' fill='%230f3460'/%3E%3Ctext x='50%25' y='50%25' dy='.35em' text-anchor='middle' font-size='28' font-family='Segoe UI, Tahoma, Geneva, Verdana, sans-serif' fill='%23ffffff'%3EAB5%3C/text%3E%3C/svg%3E">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            height: 100vh;
            overflow: hidden;
            color: white;
        }

        .header {
            background: #2c3e50;
            height: 40px;
            display: flex;
            align-items: center;
            padding: 0 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .logo {
            font-size: 14px;
            font-weight: 500;
            color: #ecf0f1;
        }

        .desktop {
            height: calc(100vh - 40px);
            position: relative;
            overflow: hidden;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, max-content));
            gap: 16px;
            padding: 20px;
            align-content: start;
            justify-content: start;
        }

        .background-image {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 600px;
            height: 600px;
            background-image: url('strong.png');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            opacity: 0.1;
            filter: brightness(1.5) contrast(0.8);
            z-index: 1;
            pointer-events: none;
        }

        .app-icon {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            padding: 20px;
            border-radius: 8px;
            transition: all 0.3s ease;
            text-align: center;
            min-width: 120px;
            user-select: none;
        }

        .app-icon:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: scale(1.05);
        }

        .app-icon:active {
            transform: scale(0.95);
        }

        .icon {
            width: 64px;
            height: 64px;
            background: linear-gradient(135deg, #3498db, #2980b9);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            font-size: 32px;
            color: white;
        }

        .app-name {
            font-size: 12px;
            color: #ecf0f1;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
            max-width: 100px;
            word-wrap: break-word;
        }

        .taskbar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 40px;
            background: rgba(44, 62, 80, 0.9);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            padding: 0 20px;
            box-shadow: 0 -2px 4px rgba(0,0,0,0.3);
        }

        .start-button {
            width: 40px;
            height: 30px;
            background: linear-gradient(135deg, #27ae60, #229954);
            border: none;
            border-radius: 4px;
            color: white;
            font-size: 12px;
            cursor: pointer;
            margin-right: 20px;
        }

        .start-button:hover {
            background: linear-gradient(135deg, #2ecc71, #27ae60);
        }

        /* Start menu styles */
        .start-menu {
            position: fixed;
            bottom: 50px;
            left: 20px;
            width: 360px;
            height: 520px;
            background: #ffffff;
            border-radius: 8px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            display: none;
            flex-direction: column;
            overflow: hidden;
            z-index: 1000;
        }

        .start-menu.open {
            display: flex;
        }

        .start-search {
            border: none;
            outline: none;
            padding: 10px 12px;
            font-size: 14px;
            background: #f5f7fa;
            color: #2c3e50;
            width: 100%;
            border-bottom: 1px solid #e6e9ef;
        }

        .start-list {
            overflow: auto;
            padding: 8px 0 16px;
            flex: 1 1 auto;
        }

        .start-item {
            display: flex;
            align-items: center;
            padding: 8px 12px;
            gap: 10px;
            cursor: pointer;
            transition: background 0.2s ease;
        }

        .start-item:hover {
            background: #f0f3f7;
        }

        .start-item-icon {
            width: 28px;
            height: 28px;
            border-radius: 6px;
            background: linear-gradient(135deg, #3498db, #2980b9);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 16px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.3);
            flex: 0 0 28px;
        }

        .start-item-texts {
            display: flex;
            flex-direction: column;
        }

        .start-item-name {
            color: #2c3e50;
            font-size: 14px;
            line-height: 1.2;
        }

        .start-item-desc {
            color: #607d8b;
            font-size: 11px;
            line-height: 1.2;
        }

        .start-section-title {
            padding: 8px 12px;
            font-weight: 600;
            color: #6b7280;
            font-size: 12px;
            text-transform: uppercase;
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="logo">AB5 Trucking Desktop</div>
    </header>

    <div class="desktop">
        <div class="background-image"></div>
        <div class="app-icon" title="PasswordProtect: a tool to save your passwords" onclick="window.open('https://passprotect.ab5trucking.com', '_blank')">
            <div class="icon">ðŸ”’</div>
            <div class="app-name">PasswordProtect</div>
        </div>
        <div class="app-icon" title="Knowledge Hub: information for sales of web services" onclick="window.open('https://help.ab5trucking.com', '_blank')">
            <div class="icon">ðŸ“˜</div>
            <div class="app-name">Knowledge Hub</div>
        </div>
    </div>

    <div class="taskbar">
        <button class="start-button">Start</button>
    </div>

    <div class="start-menu" id="startMenu" aria-hidden="true">
        <input class="start-search" id="startSearch" type="text" placeholder="Search apps..." aria-label="Search apps" autocomplete="off">
        <div class="start-list" id="startList"></div>
    </div>

    <script>
        (function() {
            const startButton = document.querySelector('.start-button');
            const startMenu = document.getElementById('startMenu');
            const startSearch = document.getElementById('startSearch');
            const startList = document.getElementById('startList');

            function collectApps() {
                const iconNodes = Array.from(document.querySelectorAll('.desktop .app-icon'));
                const apps = iconNodes.map((node) => {
                    const nameEl = node.querySelector('.app-name');
                    const iconEl = node.querySelector('.icon');
                    const name = nameEl ? nameEl.textContent.trim() : 'App';
                    const icon = iconEl ? iconEl.textContent.trim().slice(0, 2) : 'ðŸ§©';
                    const desc = node.getAttribute('title') || '';
                    let url = node.dataset && node.dataset.url ? node.dataset.url : '';
                    if (!url) {
                        const onclick = node.getAttribute('onclick') || '';
                        const match = onclick.match(/window\.open\(['\"]([^'\"]+)/);
                        if (match && match[1]) url = match[1];
                    }
                    return { name, url, icon, desc };
                }).filter(app => !!app.url);

                apps.sort((a, b) => a.name.toLowerCase().localeCompare(b.name.toLowerCase()));
                return apps;
            }

            function renderList(apps) {
                startList.innerHTML = '';
                // Group apps by first letter A-Z
                const groups = new Map();
                for (const app of apps) {
                    const letter = (app.name[0] || '#').toUpperCase();
                    if (!groups.has(letter)) groups.set(letter, []);
                    groups.get(letter).push(app);
                }

                const letters = Array.from(groups.keys()).sort();
                for (const letter of letters) {
                    const items = groups.get(letter);
                    if (!items || items.length === 0) continue; // skip empty

                    const header = document.createElement('div');
                    header.className = 'start-section-title';
                    header.textContent = letter;
                    startList.appendChild(header);

                    items.forEach(app => {
                        const item = document.createElement('div');
                        item.className = 'start-item';
                        item.title = app.desc || app.name;
                        item.setAttribute('role', 'button');
                        item.tabIndex = 0;

                        const icon = document.createElement('div');
                        icon.className = 'start-item-icon';
                        icon.textContent = app.icon;

                        const texts = document.createElement('div');
                        texts.className = 'start-item-texts';

                        const name = document.createElement('div');
                        name.className = 'start-item-name';
                        name.textContent = app.name;

                        if (app.desc) {
                            const desc = document.createElement('div');
                            desc.className = 'start-item-desc';
                            desc.textContent = app.desc;
                            texts.appendChild(name);
                            texts.appendChild(desc);
                        } else {
                            texts.appendChild(name);
                        }

                        item.appendChild(icon);
                        item.appendChild(texts);

                        function openApp() { window.open(app.url, '_blank'); }
                        item.addEventListener('click', openApp);
                        item.addEventListener('keydown', (e) => {
                            if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); openApp(); }
                        });

                        startList.appendChild(item);
                    });
                }
            }

            function openMenu() {
                startMenu.classList.add('open');
                startMenu.setAttribute('aria-hidden', 'false');
                const apps = collectApps();
                renderList(apps);
                startSearch.value = '';
                setTimeout(() => startSearch.focus(), 0);
            }

            function closeMenu() {
                startMenu.classList.remove('open');
                startMenu.setAttribute('aria-hidden', 'true');
            }

            startButton.addEventListener('click', () => {
                const isOpen = startMenu.classList.contains('open');
                if (isOpen) closeMenu(); else openMenu();
            });

            document.addEventListener('click', (e) => {
                if (!startMenu.classList.contains('open')) return;
                const withinMenu = startMenu.contains(e.target);
                const onButton = startButton.contains(e.target);
                if (!withinMenu && !onButton) closeMenu();
            });

            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && startMenu.classList.contains('open')) closeMenu();
            });

            startSearch.addEventListener('input', () => {
                const query = startSearch.value.trim().toLowerCase();
                const apps = collectApps();
                const filtered = apps.filter(a =>
                    a.name.toLowerCase().includes(query) ||
                    (a.desc && a.desc.toLowerCase().includes(query))
                );
                renderList(filtered);
            });
        })();
    </script>
</body>
</html> 

